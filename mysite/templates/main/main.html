{% extends 'base.html' %}
{% block content %}
    <main id="main">
        <div class="container">
            <h2 style="font-size: 40px;">매일 메일 트렌드 키워드를 확인하세요</h2>
            <p>원하신다면, 맞춤 도서 추천도 해드려요</p>
            <!-- <a href="www.google.com"><img src="./images/buttons/red.png" alt="구독하기"></a>
            <a href="www.google.com"><img src="./images/buttons/blue.png" alt="구독하기"></a> -->

            <a href="{% url 'main:detail_news' %}" style="padding-right: 50px"><button>뉴스</button></a>
            <a href="{% url 'main:detail_books' %}"><button>도서 큐레이션</button></a>
            <!-- <button class="mouse"><img src="./images/buttons/blue.png" alt=""></button> -->
        </div>
    </main>
    <script>
        (function(){
        // span 요소 노드 가져오기
            const spanEl = document.querySelector("main p");

            // 화면에 표시할 문장 배열
            //const txtArr = ['반갑습니다', 'こんにちは', 'Hello', '您好'];

            // 배열의 인덱스 초기값
            //let index = 0;

            // 화면에 표시할 문장 배열에서 요소를 하나 가져온 뒤, 배열로 만들기
            let currentTxt = spanEl.split("");

            // 텍스트 색상 배열
            //const txtColors = ["white", "#FF3366", "#CC99FF", "#FFFF99"]

            function writeTxt(){
                spanEl.textContent += currentTxt.shift();

                // 텍스트 색상 바꾸기
                //spanEl.style.color = txtColors[index];

                if(currentTxt.length !== 0){
                    setTimeout(writeTxt, Math.floor(Math.random() * 100)); // 출력 속도를 매번 다르게 설정

                    // setTimeout(writeTxt, txtArr[index].length / 3000);

                }else{
                    currentTxt = spanEl.textContent.split("");
                    setTimeout(deleteTxt, 3000);
                }
            }

            function deleteTxt(){
                currentTxt.pop();
                spanEl.textContent = currentTxt.join("");
                if(currentTxt.length !== 0){
                    setTimeout(deleteTxt, Math.floor(Math.random() * 100));
                }else{
                    index = (index + 1) % txtArr.length; // 배열 길이가 넘어가면 다시 첫번째 요소가 들어가게 설정
                    currentTxt = txtArr[index].split("");
                    // console.log(currentTxt);
                    writeTxt();
                }
            }
            writeTxt();
        })();
    </script>
{% endblock %}
